<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Educativo</title>
    <link rel="icon" type="image/x-icon" href="img/icons.png">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-4YgSEqfOxm3EgEXa7or2hq41UnPd2K4f+Clz5bFkslS/s3XdSWTlczqD8VB5U5L9wDr6qJPjKZ5s3wFft4rZUA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container mt-5">
        <div id="content" class="">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="card" data-aos="fade-up" data-aos-duration="1000">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h1  class="animate__animated animate__backInDown text-info mb-0">Quiz <span class=" text-warning">Edu</span><span class=" text-success">ca</span><span class=" text-danger">ti</span><span style="color:rgb(249, 130, 27);">vo</span></h1>
                            <button id="help-button" class="btn btn-info" aria-label="Ayuda">Ayuda</button>
                        </div>
                        <div class="card-body">
                            <div id="quiz" data-aos="fade-down" data-aos-easing="linear" data-aos-duration="1500">
                                <img id="quiz-start-image" src="img/quiz.jpg" alt="Imagen de inicio" class="img-fluid w-100 mt-1" style="display: none; margin-top: -60px;"> <br>
                                <div class="row ml-lg-1" id="user-info-container" style="display: none;">
                                    <div class="card-user border border-info  col-md-12 col-sm-12 col-xl-12 d-flex justify-content-lg-start justify-content-xl-start justify-content-md-start justify-content-center flex-wrap">
                                        <p class="user-info text-warning mr-1">
                                            <span><i class="fas fa-user"></i></span> Nombre<br>
                                            <span class="dynamic-data" id="user-name">Sin datos</span>
                                        </p>
                                        <p class="user-info text-warning mr-1">
                                            <span><i class="fas fa-list-alt"></i></span> Categoría<br>
                                            <span class="dynamic-data" id="selected-category"></span>
                                        </p>
                                        <p class="user-info text-warning mr-1">
                                            <span><i class="fas fa-level-up-alt"></i></span> Nivel<br>
                                            <span class="dynamic-data" id="selected-level"></span>
                                        </p>
                                        <p class="user-info text-warning mr-1">
                                            <span><i class="fas fa-coins"></i></span> Puntos <span class="dynamic-data" id="points-counter">0</span>
                                        </p>
                                        <p class="user-info text-warning mr-1">
                                            <span><i class="fas fa-star"></i></span> Estrellas <span class="dynamic-data" id="stars-counter">0</span>
                                        </p>
                                    </div>
                                    <div class="col-12 text-left mt-2">
                                        <div id="question-counter" class="text-muted user-info d-flex justify-content-lg-start">
                                        </div>
                                        <span class="text-muted user-info d-flex justify-content-lg-start"><i class="fas fa-question text-white"></i></span>
                                    </div>

                                    <div id="question" class="" data-aos="fade-up" data-aos-duration="1000"></div>
                                    <div id="options" class="" data-aos="flip-left" data-aos-duration="1000"></div>
                                    <p id="result" class="mt-3" data-aos="fade-up" data-aos-duration="1000"></p>
                                    <button id="next-btn" data-aos="flip-up" class="btn btn-success btn-block mt-3 w-75 ml-5 button-especial" style="display: none;">Siguiente</button>
                                    <br>
                                    <button id="finish-btn" class="btn btn-danger btn-block mt-3 w-50" style="display: none;">Terminar Quiz</button>
                                </div>
                                <label id="nombre-apellido-label" class="form-label ml-3 text-warning" for="nombre-apellido">Por favor completa este campo</label>
                                <div class="form-group">
                                    <input type="text" id="nombre-apellido" class="form-control w-75 ml-5" placeholder="Escribe tu nombre y apellido" required>
                                </div>
                                <div id="category-selection" class="form-group">
                                    <label id="category-label" class="text-white text-warning" for="category">Selecciona una categoría:</label>
                                    <div class="select-container text-white">
                                        <select id="category" class="form-control w-75 ml-5">
                                            <option value="matematicas">Matemáticas</option>
                                            <option value="lengua_literatura">Lengua y Literatura</option>
                                            <option value="historia_nicaragua">Historia de Nicaragua</option>
                                            <option value="ciencias_naturales">Ciencias Naturales</option>
                                            <option value="ciencias_sociales">Ciencias Sociales</option>
                                            <option value="ingles">ingles</option>
                                        </select>
                                    </div>
                                </div>
                                <br>
                                <div id="level-selection" class="form-group">
                                    <label id="level-label" for="level" class="text-warning">Selecciona un nivel:</label>
                                    <div class="select-container">
                                        <select id="level" class="form-control w-75 ml-5">
                                            <option value="facil">Fácil</option>
                                            <option value="intermedio">Intermedio</option>
                                            <option value="dificil">Difícil</option>
                                        </select>
                                    </div>
                                </div>
                                <br>
                                <button id="start-btn" class="btn btn-primary btn-block btn-sm w-75 ml-5">Empezar</button>
                              
                                <br><br>
                              
                                <a href="index.html" class="text-white text-decoration-none badge badge-warning">Ir a la pagina principal</a>
                            </div>
                        </div>
                    </div>
                    <!-- Modal de Ayuda -->
                    <div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header border border-bottom border-info" style="color: indigo;">
                                    <h5 class="modal-title animate__animated animate__bounce" id="helpModalLabel">Ayuda <i class="fas fa-address-card" style="color: indigo;"></i></h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                                        <span style="color: indigo;" aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body text-dark" data-aos="fade-up">
                                    <p class="text-success"><span style="color: indigo;">Bienvenido al Quiz</span> Educativo</p>
                                    <p>En este quiz podrás demostrar tus conocimientos en diversas áreas. A continuación, te explicamos cómo funciona:</p>
                                    <ul>
                                        <li>Primero, ingresa tu nombre y apellido en el campo proporcionado.</li>
                                        <li>Selecciona la categoría de preguntas que deseas responder.</li>
                                        <li>Selecciona el nivel de dificultad: Fácil, Intermedio o Difícil.</li>
                                        <li>Cada pregunta tiene múltiples opciones. Selecciona la respuesta correcta.</li>
                                        <li>Por cada respuesta correcta, ganarás puntos.</li>
                                        <li>Por cada 20 puntos ganados, recibirás una estrella.</li>
                                        <li>Para pasar a la siguiente pregunta, haz clic en el botón "Siguiente".</li>
                                        <li>Al finalizar el quiz, verás un resumen de tus resultados, que podrás descargar.</li>
                                    </ul>
                                    <p class="text-success">¡Buena suerte y diviértete aprendiendo!</p>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Modal para la valoración -->
                    <div class="modal fade" id="ratingModal" tabindex="-1" aria-labelledby="ratingModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header border border-bottom border-info" style="color: indigo;">
                                    <h5 class="modal-title animate__animated animate__bounce" id="ratingModalLabel">Valorar el Quiz <i class="fas fa-star" style="color: indigo;"></i></h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                                        <span style="color: indigo;" aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body text-dark" data-aos="fade-up">
                                    <p>Por favor, califica la calidad del quiz:</p>
                                    <form id="rating-form">
                                        <div class="form-group">
                                            <label for="rating" class="text-success">Puntuación:</label>
                                            <select id="rating" name="rating" class="form-control">
                                                <option value="5">5 - Excelente</option>
                                                <option value="4">4 - Muy bueno</option>
                                                <option value="3">3 - Bueno</option>
                                                <option value="2">2 - Regular</option>
                                                <option value="1">1 - Malo</option>
                                            </select>
                                        </div>
                                        <div class="form-group form-floating">
                                            <label for="comments" class="text-success">Comentarios:</label>
                                            <textarea id="comments" name="comments" class="form-control" rows="3" placeholder="Escribe tus comentarios aquí"></textarea>
                                        </div>
                                        <button type="submit" class="btn btn-primary" style="background-color: indigo;">Enviar valoración</button>
                                    </form>
                                    <div id="thank-you" style="display:none;">
                                        <p>¡Gracias por tu valoración!</p>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-3">
                    <div id="share-buttons">
                        <p>Comparte en tus redes favoritas:</p>
                        <button onclick="shareOnFacebook()" class="btn btn-primary w-20"><i class="fab fa-facebook-square fa-lg"></i></button>
                        <button onclick="shareOnWhatsApp()" class="btn btn-success w-20"><i class="fab fa-whatsapp-square fa-lg"></i></button>
                        <button onclick="shareOnLinkedIn()" class="btn btn-danger w-20"><i class="fab fa-linkedin fa-lg"></i></button>
                        <button onclick="shareOnTwitter()" class="btn btn-info w-20"><i class="fab fa-twitter-square fa-lg"></i></button>
                        <button type="button" class="btn btn-outline-warning" data-toggle="modal" data-target="#ratingModal">
                            ¿Cómo valoras el quiz?
                        </button>
                    </div>
                    <p>&copy; 2024 Dev Web. Todos los derechos reservados.</p>
                    <p>Contacto: <a href="mailto:ca140611@gmail.com">ca140611@gmail.com</a></p>
                </div>
            </div>
        </div>
    </div>
    

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
   
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.13/jspdf.plugin.autotable.min.js"></script>

    <script src="questions.js"></script>
    <script src="quiz.js"></script>

    <script>
        $(document).ready(function(){
            AOS.init();
            
            // Ocultar el contenido hasta que la página se cargue completamente
            $("#content").removeClass("d-none");
    
            // Ocultar el modal de ayuda al cargar la página
            $('#helpModal').modal('hide');
    
            // Agregar evento al botón de ayuda para mostrar el modal
            $("#help-button").click(function(){
                $('#helpModal').modal('show');
            });

            
            // Agregar evento al botón para abrir la card de valoración
            $("#open-rating-card-btn").click(function(){
                $("#rating-card").toggle();
            });
        });


        function shareOnFacebook() {
    const quizUrl = window.location.href;
    const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(quizUrl)}`;
    window.open(facebookUrl, '_blank', 'width=600,height=400');
}

function shareOnWhatsApp() {
    const quizUrl = encodeURIComponent(window.location.href);
    const whatsappUrl = `https://api.whatsapp.com/send?text=¡Echa un vistazo a este increíble quiz! ${quizUrl}`;
    window.open(whatsappUrl, '_blank');
}


function shareOnLinkedIn() {
    const quizUrl = window.location.href;
    const linkedInUrl = `https://www.linkedin.com/shareArticle?url=${encodeURIComponent(quizUrl)}`;
    window.open(linkedInUrl, '_blank', 'width=600,height=400');
}

document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('thank-you').style.display = 'none';
});

document.getElementById('rating-form').addEventListener('submit', async function(event) {
    event.preventDefault(); // Prevenir el comportamiento por defecto del formulario

    const form = event.target;
    const formData = new FormData(form);

    // Convertir formData a un objeto JSON
    const jsonData = {};
    formData.forEach((value, key) => {
        jsonData[key] = value;
    });

    try {
        const response = await fetch('https://formspree.io/f/xyyraegv', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(jsonData)
        });

        if (response.ok) {
            const thankYou = document.getElementById('thank-you');
            thankYou.style.display = 'block';
            thankYou.classList.add('show');
            thankYou.classList.remove('hide');
            form.reset(); // Reiniciar el formulario
            setTimeout(() => {
                // Ocultar la notificación de confirmación después de 3 segundos
                thankYou.classList.add('hide');
                thankYou.classList.remove('show');
                setTimeout(() => {
                    thankYou.style.display = 'none';
                }, 500); // Esperar a que la animación termine antes de ocultar el elemento
            }, 8000);
        } else {
            alert('Hubo un problema con el envío. Inténtalo de nuevo.');
        }
    } catch (error) {
        alert('Hubo un problema con el envío. Inténtalo de nuevo.');
    }
});

    </script>
    
